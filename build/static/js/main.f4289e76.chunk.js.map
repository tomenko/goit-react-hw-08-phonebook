{"version":3,"sources":["redux/auth/auth-reducer.js","redux/auth/auth-selectors.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-operations.js","redux/auth/auth-operations.js","redux/auth/auth-actions.js","redux/contacts/contacts-reducer.js","redux/contacts/contacts-actions.js","routes.js","components/UserMenu/Navigation.js","image/icons-user-no-avatar.png","components/UserMenu/UserMenu.js","components/UserMenu/AuthNav.js","components/UserMenu/AppBar.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","App.js","redux/store.js","index.js"],"names":["initialUserState","name","email","user","createReducer","registerSuccess","_","payload","loginSuccess","logoutSuccess","__","getCurrentUserSuccess","token","setError","error","registerError","loginError","logoutError","getCurrentUserError","isLogedIn","combineReducers","getIsAuthenticated","state","auth","getUserEmail","getItems","contacts","items","getFilterValue","filter","getLoadingItems","loading","getFilteredContactList","createSelector","allContacts","regExp","RegExp","contact","test","fetchContacts","dispatch","a","fetchContactRequest","axios","get","data","fetchContactSuccess","fetchContactError","message","addContact","number","addContactRequest","post","then","addContactSuccess","catch","addContactError","deleteContact","contactID","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","defaults","baseURL","headers","common","Authorization","signup","credentials","registerRequest","response","login","loginRequest","logout","logoutRequest","getCurrentUser","getState","persistedToken","getCurrentUserRequest","createAction","item","id","changeFilter","Navigation","className","exact","to","routes","activeClassName","mapDispatchToProps","onLogout","connect","avatar","noAvatar","src","alt","width","type","onClick","AuthNav","isAuthenticated","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","ContactsView","loginView","RegisterView","App","this","onGetCurrentUser","fetchItems","fallback","path","isLoading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","blacklist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4289e76.chunk.js","sourcesContent":["  \r\nimport { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  /* registerRequest, */\r\n  registerSuccess,\r\n  registerError,\r\n  /* loginRequest, */\r\n  loginSuccess,\r\n  loginError,\r\n  /* logoutRequest, */\r\n  logoutSuccess,\r\n  logoutError,\r\n  /* getCurrentUserRequest, */\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\nconst initialUserState = {\r\n    name: null,\r\n    email: null\r\n};\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [registerSuccess]: (_, { payload }) => payload.user,\r\n  [loginSuccess]: (_, { payload }) => payload.user,\r\n  [logoutSuccess]: (_, __) => initialUserState,\r\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: () => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(null, {\r\n  [registerError]: setError,\r\n  [loginError]: setError,\r\n  [logoutError]: setError,\r\n  [getCurrentUserError]: setError,\r\n});\r\n\r\nconst isLogedIn = createReducer(false, {\r\n  [registerSuccess]: () => true,\r\n  [loginSuccess]: () => true,\r\n  [getCurrentUserSuccess]: () => true,\r\n  [registerError]: () => false,\r\n  [logoutError]: () => false,\r\n  [getCurrentUserError]: () => false,\r\n  [logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isLogedIn,\r\n  token,\r\n  error,\r\n});","export const getIsAuthenticated = state => !!state.auth.isLogedIn;\r\n\r\nexport const getUserEmail = state => state.auth.user.email;","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nexport const getItems = state => state.contacts.items;\r\n\r\nexport const getFilterValue = state => state.contacts.filter;\r\n\r\nexport const getLoadingItems = state => state.contacts.loading;\r\n\r\nexport const getFilteredContactList = createSelector(\r\n  [getItems, getFilterValue],\r\n  (allContacts, filter) => {\r\n    const regExp = new RegExp(filter, 'gi');\r\n\r\n    if (filter) {\r\n    return allContacts.filter(contact => regExp.test(contact.name));\r\n    }\r\n    return allContacts;\r\n  },\r\n);\r\n","import axios from 'axios';\r\nimport {\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,    \r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n} from './contacts-actions';\r\n\r\n/* axios.defaults.baseURL = 'http://localhost:3001'; */\r\n\r\nexport const fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactRequest);\r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n    dispatch(fetchContactSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactError(error.message));\r\n  }\r\n};\r\n\r\nexport const addContact = ({ name, number }) => dispatch => {\r\n  const contact = {\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(addContactRequest());\r\n\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error.message)));\r\n};\r\n\r\nexport const deleteContact = contactID => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n  axios\r\n    .delete(`/contacts/${contactID}`)\r\n    .then(() => dispatch(deleteContactSuccess(contactID)))\r\n    .catch(error => dispatch(deleteContactError(error.message)));\r\n};\r\n","import axios from 'axios';\r\n\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const signup = credentials => async dispatch => {\r\n  dispatch(registerRequest());\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nexport const login = credentials => async dispatch => {\r\n  dispatch(loginRequest());\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  dispatch(logoutRequest());\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n\r\n    dispatch(getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error.message));\r\n  }\r\n};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const registerRequest = createAction('auth/registerRequest');\r\nexport const registerSuccess = createAction('auth/registerSuccess');\r\nexport const registerError = createAction('auth/registerError');\r\n\r\nexport const loginRequest = createAction('auth/loginRequest');\r\nexport const loginSuccess = createAction('auth/loginSuccess');\r\nexport const loginError = createAction('auth/loginError');\r\n\r\nexport const logoutRequest = createAction('auth/logoutRequest');\r\nexport const logoutSuccess = createAction('auth/logoutSuccess');\r\nexport const logoutError = createAction('auth/logoutError');\r\n\r\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n} from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(item => item.id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');","export default {\r\n  home: '/',\r\n  contacts: '/contacts',\r\n  login: '/login',\r\n  register: '/register',\r\n};","import { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\nimport './UserMenu.css'\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <ul className=\"navigation\">\r\n            <li> <NavLink\r\n                exact to={routes.home}\r\n                className=\"NavLink\"\r\n                activeClassName=\"NavLink--active\">\r\n                Home</NavLink>\r\n            </li>\r\n            \r\n            <li> <NavLink\r\n                to={routes.contacts}\r\n                className=\"NavLink\"\r\n                activeClassName=\"NavLink--active\">\r\n                Contacts</NavLink>\r\n            </li>\r\n\r\n        </ul>\r\n    );   \r\n}\r\n \r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/icons-user-no-avatar.6c53c0a1.png\";","import './UserMenu.css'\r\nimport React from 'react';\r\nimport { getUserEmail, logout } from '../../redux/auth';\r\nimport { connect } from 'react-redux';\r\nimport noAvatar from '../../image/icons-user-no-avatar.png';\r\n\r\n\r\nconst UserMenu = ({ email, onLogout, avatar }) => (\r\n    <div className=\"UserMenu\">        \r\n        <img src={avatar} alt=\"\" width=\"40\" />   \r\n        <span>{email}</span>\r\n        <button type=\"button\" onClick={onLogout}>Sign out</button>\r\n    </div>\r\n)\r\n\r\nconst mapStateToProps = state => ({\r\n  email: getUserEmail(state),\r\n  avatar: noAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);","import { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\nimport './UserMenu.css'\r\n\r\nconst AuthNav = () => {\r\n    return (\r\n        <ul className=\"navigation\">\r\n            <li> <NavLink\r\n                to={routes.login}\r\n                className=\"NavLink\"\r\n                activeClassName=\"NavLink--active\">\r\n                Login</NavLink>\r\n            </li>\r\n\r\n            <li> <NavLink\r\n                to={routes.register}\r\n                className=\"NavLink\"\r\n                activeClassName=\"NavLink--active\">\r\n                Register</NavLink>\r\n            </li>   \r\n        </ul>\r\n    );   \r\n}\r\n \r\nexport default AuthNav;","import { connect } from 'react-redux';\r\n\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu';\r\nimport AuthNav from './AuthNav';\r\n\r\nimport { getIsAuthenticated } from '../../redux/auth';\r\n\r\nimport './UserMenu.css';\r\n\r\n\r\n\r\n\r\nconst AppBar = ({isAuthenticated}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <Navigation />\r\n            {isAuthenticated? <UserMenu />:<AuthNav />}\r\n        </header>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n \r\nexport default connect(mapStateToProps)(AppBar);","import { connect } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getIsAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import { connect } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getIsAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);","import React, { lazy, Suspense, Component} from 'react';\nimport { Switch, Redirect } from 'react-router-dom';\nimport routes from './routes';\nimport { connect } from 'react-redux';\n\nimport AppBar from './components/UserMenu';\n\nimport { getCurrentUser } from './redux/auth/auth-operations';\nimport { fetchContacts } from './redux/contacts/contacts-operations';\nimport { getItems, getLoadingItems } from './redux/contacts/contacts-selectors';\n\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport PublicRoute from './components//PublicRoute/PublicRoute';\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"home-view\" */)\n);\n\nconst ContactsView = lazy(() =>\n  import('./views/ContactsView' /* webpackChunkName: \"contacts-view\" */)\n);\n\nconst loginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"login-view\" */)\n);\n\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"register-view\" */)\n);\n\n\nclass App extends Component {\n    componentDidMount() {\n    this.props.onGetCurrentUser();\n    this.props.fetchItems();\n  }\n\n  render() { \n    return (\n      <div  className=\"App\">\n        <AppBar />\n        <Suspense fallback={<div>Loading...</div>}>\n          <Switch>\n            <PublicRoute exact path={routes.home} component={HomeView} />\n            <PrivateRoute\n              path={routes.contacts}\n              redirectTo=\"/login\"\n              component={ContactsView}\n            />\n            <PublicRoute\n              path={routes.login}\n              restricted\n              redirectTo=\"/contacts\"\n              component={loginView}\n            />\n            <PublicRoute\n              path={routes.register}\n              restricted\n              redirectTo=\"/\"\n              component={RegisterView}\n            />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  items: getItems(state),\n  isLoading: getLoadingItems(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchItems: () => dispatch(fetchContacts()),\n  onGetCurrentUser: () => dispatch(getCurrentUser()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducer from './contacts';\r\nimport authReducer from './auth';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n  blacklist: ['filter'],\r\n};\r\n\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport store from './redux/store';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}